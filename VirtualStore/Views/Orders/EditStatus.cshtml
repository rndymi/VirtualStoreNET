@model VirtualStore.Order
@{
    ViewBag.Title = "Edit Order Status";
}

@{
    var returnUrl = ViewBag.ReturnUrl as string;
    if (string.IsNullOrWhiteSpace(returnUrl))
    {
        returnUrl = Url.Action("Details", "Orders", new { id = Model.Id });
    }
}

<div class="page-title"><h2>Edit Order Status</h2></div>

<div class="store-card pad" style="max-width:760px;">
    <p><b>Order #:</b> @Model.Id</p>
    <p><b>User:</b> @Model.userName</p>

    @using (Html.BeginForm("EditStatus", "Orders", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        @Html.Hidden("id", Model.Id)
        @Html.Hidden("returnUrl", returnUrl)

        <label class="admin-label">Status</label>
        @Html.DropDownList("statusOrder", (SelectList)ViewBag.AllowedStatus, new { @class = "admin-input" })

        <div style="margin-top:14px;">
            <button type="submit" class="btn btn-brand">Save</button>
            <a class="btn btn-outline" style="margin-left:10px;" href="@returnUrl">Cancel</a>
        </div>
    }
</div>