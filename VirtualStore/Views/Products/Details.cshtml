@model VirtualStore.Product

@{
    ViewBag.Title = "Product Details";
}

<div class="store-title">
    <h2>
        @Model.nameProd
    </h2>
</div>

<div class="store-card pad big-card">
    <div class="row">
        <div class="col-sm-5 text-center">
            @if (!string.IsNullOrWhiteSpace(Model.imageProd))
            {
                <img src="@Url.Content(Model.imageProd)"
                     alt="@Model.nameProd"
                     style="width:260px;max-width:100%;height:auto;object-fit:contain;background:#f3f6fb;border-radius:14px;padding:14px;" />
            }
            else
            {
                <div style="height:220px;background:#f3f6fb;border-radius:14px;display:flex;align-items:center;justify-content:center;">
                    <span class="text-muted">No image</span>
                </div>
            }
        </div>

        <div class="col-sm-7">
            <p><strong>Description:</strong> @Model.descripProd</p>

            <div class="product-price" style="margin-top:10px;">€ @Model.price</div>

            <p class="stock-text" style="margin-top:8px;">
                Stock:
                @if (Model.stockProd <= 1)
                {
                    <span class="stock-low">@Model.stockProd</span>
                }
                else
                {
                    <span>@Model.stockProd</span>
                }
            </p>

            <div style="margin-top:16px;">
                @if (Model.stockProd > 0)
                {
                    @Html.ActionLink("Add to Cart", "AddToCart", "Cart", new { id = Model.Id },
                        new { @class = "btn btn-brand" })
                }
                else
                {
                    <button class="btn btn-danger-soft" disabled>Out of stock</button>
                }

                @Html.ActionLink("Back to products", "Index", "Products", null,
                    new { @class = "btn btn-outline", style = "margin-left:10px;" })

                @if (User.IsInRole("Admin"))
                {
                    @Html.ActionLink("Edit", "Edit", "Products", new { id = Model.Id }, new { @class = "btn btn-brand", style = "margin-left:8px;" })
                }
            </div>
        </div>
    </div>
</div>